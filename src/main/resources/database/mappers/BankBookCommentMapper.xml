<?xml version="1.0" encoding="UTF-8"?>
	<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.iu.start.bankbook.BankBookCommentDAO">
	<insert id="setCommentAdd" parameterType="BankBookCommentDTO">
		INSERT INTO BANKBOOKCOMMENT VALUES (BOARD_SEQ.NEXTVAL, #{bookNum}, #{writer}, #{contents}, SYSDATE)
	</insert>
	
	<select id="getCommentList" parameterType="BankBookCommentDTO"
		resultType="BankBookCommentDTO">
		SELECT * FROM (
    		SELECT ROWNUM R, C.* FROM (
        		SELECT * FROM BANKBOOKCOMMENT WHERE BOOKNUM = #{bookNum} ORDER BY NUM DESC) C)
        WHERE R BETWEEN 1 AND 10
	</select>
</mapper>	